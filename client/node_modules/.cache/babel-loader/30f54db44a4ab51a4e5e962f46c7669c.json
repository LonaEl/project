{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1867792\\\\Desktop\\\\project\\\\client\\\\src\\\\components\\\\PasswordRest\\\\PasswordReset.jsx\";\nimport axios from \"axios\";\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst PasswordReset = () => {\n  const [validUrl, setValidUrl] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n  const param = useParams();\n  const link = `http://localhost:5000/reset-password/${param.id}/${param.token}`;\n  useEffect(() => {\n    const verifyUrl = async () => {\n      try {\n        await axios.get(link);\n        setValidUrl(true);\n      } catch (error) {\n        setValidUrl(false);\n      }\n    };\n\n    verifyUrl();\n  }, [param, link]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const {\n        data\n      } = await axios.post(link, {\n        password\n      });\n      setMsg(data.message);\n      window.location = \"/auth\";\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 8\n    }\n  }, validUrl ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, \"Create new password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    name: \"name\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, \"cre\"))) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, \"404 Not Found\"));\n};\n\nexport default PasswordReset;","map":{"version":3,"names":["axios","React","useState","useEffect","Fragment","useParams","PasswordReset","validUrl","setValidUrl","password","setPassword","msg","setMsg","param","link","id","token","verifyUrl","get","error","handleSubmit","e","preventDefault","data","post","message","window","location","console","log","target","value"],"sources":["C:/Users/1867792/Desktop/project/client/src/components/PasswordRest/PasswordReset.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, {useState, useEffect, Fragment} from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst PasswordReset = () => {\r\n    const [validUrl, setValidUrl] = useState(false);\r\n    const [password, setPassword] = useState(\"\");\r\n    const [msg, setMsg] = useState(\"\");\r\n    const param = useParams();\r\n    const link = `http://localhost:5000/reset-password/${param.id}/${param.token}`\r\n\r\n  useEffect(() => {\r\n    const verifyUrl = async() => {\r\n        try {\r\n            await axios.get(link);\r\n            setValidUrl(true)\r\n        } catch (error) {\r\n            setValidUrl(false)\r\n            \r\n        }\r\n    }\r\n    verifyUrl()\r\n  }, [param, link]);\r\n\r\n  \r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n    try {\r\n        const { data } = await axios.post(link, { password });\r\n        setMsg(data.message)\r\n        window.location = \"/auth\"\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n  };\r\n\r\n    return (\r\n       <Fragment>\r\n         {validUrl ? ( \r\n            <div>\r\n                <form onSubmit={handleSubmit} >\r\n                    <h1>Create new password</h1>\r\n                    <input \r\n                    type=\"password\"\r\n                    placeholder=\"Enter password\"\r\n                    name=\"name\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                    <button type=\"submit\">cre</button>\r\n                </form>\r\n            </div>\r\n         ) : (\r\n            <h1>404 Not Found</h1>\r\n         )}\r\n       </Fragment>\r\n    )\r\n};\r\n\r\nexport default PasswordReset;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,MAAMC,aAAa,GAAG,MAAM;EACxB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACS,GAAD,EAAMC,MAAN,IAAgBV,QAAQ,CAAC,EAAD,CAA9B;EACA,MAAMW,KAAK,GAAGR,SAAS,EAAvB;EACA,MAAMS,IAAI,GAAI,wCAAuCD,KAAK,CAACE,EAAG,IAAGF,KAAK,CAACG,KAAM,EAA7E;EAEFb,SAAS,CAAC,MAAM;IACd,MAAMc,SAAS,GAAG,YAAW;MACzB,IAAI;QACA,MAAMjB,KAAK,CAACkB,GAAN,CAAUJ,IAAV,CAAN;QACAN,WAAW,CAAC,IAAD,CAAX;MACH,CAHD,CAGE,OAAOW,KAAP,EAAc;QACZX,WAAW,CAAC,KAAD,CAAX;MAEH;IACJ,CARD;;IASAS,SAAS;EACV,CAXQ,EAWN,CAACJ,KAAD,EAAQC,IAAR,CAXM,CAAT;;EAcA,MAAMM,YAAY,GAAG,MAAMC,CAAN,IAAY;IAC/BA,CAAC,CAACC,cAAF;;IACA,IAAI;MACA,MAAM;QAAEC;MAAF,IAAW,MAAMvB,KAAK,CAACwB,IAAN,CAAWV,IAAX,EAAiB;QAAEL;MAAF,CAAjB,CAAvB;MACAG,MAAM,CAACW,IAAI,CAACE,OAAN,CAAN;MACAC,MAAM,CAACC,QAAP,GAAkB,OAAlB;IACH,CAJD,CAIE,OAAOR,KAAP,EAAc;MACZS,OAAO,CAACC,GAAR,CAAYV,KAAZ;IACH;EACF,CATD;;EAWE,oBACG,oBAAC,QAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGZ,QAAQ,gBACN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAM,QAAQ,EAAEa,YAAhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,yBADJ,eAEI;IACA,IAAI,EAAC,UADL;IAEA,WAAW,EAAC,gBAFZ;IAGA,IAAI,EAAC,MAHL;IAIA,KAAK,EAAEX,QAJP;IAKA,QAAQ,EAAGY,CAAD,IAAOX,WAAW,CAACW,CAAC,CAACS,MAAF,CAASC,KAAV,CAL5B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAFJ,eASI;IAAQ,IAAI,EAAC,QAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,SATJ,CADJ,CADM,gBAeN;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,mBAhBL,CADH;AAqBH,CArDD;;AAuDA,eAAezB,aAAf"},"metadata":{},"sourceType":"module"}